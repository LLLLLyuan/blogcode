---
data: "2019-10-20"
publishdate: "2019-10-20"
lastmod: "2019-10-20"
draft: false
title: "AcWing785题 ——快速排序（Quick sort）"
tags: ["快速排序","C++","AcWing"]
series: ["算法练习生"]
toc: true
summary: "算法日记————快速排序"
---
## 题目

给定你一个长度为n的整数数列。

请你使用快速排序对这个数列按照从小到大进行排序。

并将排好序的数列按顺序输出。

**输入格式**

输入共两行，第一行包含整数 n。

第二行包含 n 个整数（所有整数均在1~10^9范围内），表示整个数列。

**输出格式**

输出共一行，包含 n 个整数，表示排好序的数列。

**数据范围**

**1≤n≤100000**

**输入样例：**

```text
5
3 1 2 4 5
```

**输出样例：**

```text
1 2 3 4 5
```


## 解题思路

**1、确定分界点**

**2、调整区间**

**3、递归处理左右两段区间**

### 核心思想

快排的核心思想是`分治思想`，分治思想的特征为：

1.问题缩小到一定规模容易解决

2.分解成的子问题是相同种类的子问题，即该问题具有最优子结构性质

3.分解而成的小问题在解决之后要可以合并

4.子问题是相互独立的，即子问题之间没有公共的子问题

我们通过把一个要排序的数据数列，**分割成两个部分**，其中**一个部分**的所有数据值都**比另一部分的值小**，然后再对这两个部分的数据进行**递归排序**，最后变成一个有序序列。

## 解题步骤

### 1、确定分界点

```text
l                      r
├——————————————————————┤
          
```
假设有一段无序序列`q`，左右两段边界为 `l`、`r`，那么一般可以有`4种`确定分界点的方法

1. q[ l ] ，取左边的边界

2. q[ r ] ，取右边的边界

3. q[ (l+r)/2 ] ，取中间

4. 随机取

此时，得到两个新的数组`a[]`，`b[]`

### 2、调整区间(重点)

```text
l    ≤x        ≥x       r        
├————————┴——————————————┤          
```

假设我们取的分界点的值为 `x` ，则左边区间的值都`≤x`，右边区间的值都`≥x`，即

```text
        / q[j] ≤ x , x → a[]
q[l~r]
        \ q[i] ≥ x , x → b[]
```
> ＝x的值在左边和在右边是一样的

### 3、递归处理

```text
      a          b
 ├————————┴——————————————┤
```
将左边区间也就是a[]排好序，右边区间b[]排好序，**左边区间最大值≤右边区间最小值**，合在一起就是整个排好序的序列，最左边即为最小值，最右边即为最小值。


## 代码实现

```C++
#include <iostream>

using namespace std;

const int N = 100010;

int q[N];

void quick_sort(int q[], int l, int r)
{
    if (l >= r) return;

    int i = l - 1, j = r + 1, x = q[l + r >> 1];
    while (i < j)
    {
        do i ++ ; while (q[i] < x);
        do j -- ; while (q[j] > x);
        if (i < j) swap(q[i], q[j]);
    }

    quick_sort(q, l, j);
    quick_sort(q, j + 1, r);
}

int main()
{
    int n;
    
    scanf("%d", &n);

    for (int i = 0; i < n; i ++ ) scanf("%d", &q[i]);

    quick_sort(q, 0, n - 1);
    
    for (int i = 0; i < n; i ++ ) printf("%d ", q[i]);
    
    return 0;
}
```

> good good study , day day up !

## 版本控制
Version|Action|Time
:-:|:-:|:-:
1.0|first commit|2019-10-20
