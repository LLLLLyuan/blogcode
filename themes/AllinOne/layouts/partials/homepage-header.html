{{ $path := cond (gt (len .Site.Params.slidesDirPath) 0) $.Site.Params.slidesDirPath "themes/AllinOne/static/img/header-slides" }}
{{ $pathURL := cond (gt (len .Site.Params.slidesDirPathURL) 0) $.Site.Params.slidesDirPathURL "img/header-slides" }}

{{ $files := readDir $path  }}
{{ $files := where $files  "Name" "ne" ".DS_Store" }}


<!-- Carousel Wrapper -->
<div class="carousel slide carousel-fade" data-ride="carousel" id="site-header">
    <!--data-pause="true" data-interval="300000"-->

    <!-- Indicators -->
    <ol class="carousel-indicators">

        {{ range $index, $element := $files }}
        {{ if eq $index 0 }}
        <li class="active" data-slide-to="{{ $index }}" data-target="#site-header"></li>
        {{ else }}
        <li data-slide-to="{{ $index  }}" data-target="#site-header"></li>

        {{ end }}
        {{ end }}
    </ol>
    <!-- /.Indicators -->

    <!-- Slides -->
    <div class="carousel-inner" role="listbox">
        {{ range $index, $element := $files }}
        {{ if eq $index 0 }}

        <!-- First slide -->
        <div class="carousel-item active">
            <div class="view"
                 style="background-image: url('{{ $pathURL | absURL }}/{{ .Name }}'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

                    <!-- Content -->
                    <!-- <div class="text-center white-text wow fadeIn">

                    </div> -->
                    <!-- /.Content -->

                </div>
                <!-- /.Mask & flexbox options-->

            </div>
        </div>
        <!-- /.First slide -->
        {{ else }}

        <!-- Second slide -->
        <div class="carousel-item">
            <div class="view"
                 style="background-image: url('{{ $pathURL | absURL }}/{{ .Name }}'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options -->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">


                </div>
                <!-- /.Mask & flexbox options -->

            </div>
        </div>
        <!-- /.Second slide -->
        {{ end }}
        {{ end }}


    </div>
    <!-- /.Slides -->

    <!-- Content -->
    <div class="carousel-content text-center white-text wow fadeIn">
        <div class="row mx-0 headfont mb-5 pb-3">
            <!-- Avatar -->
            <div class="col-12 col-sm-5 align-middle">
                <a href="{{ .Site.BaseURL }}">
                    {{ if $.Site.Params.avatar }}
                    <img alt="" class="pull-right avatar avatar-lg " src="{{ $.Site.Params.avatar | absURL }}">
                    {{ else if $.Site.Params.faviconfile }}
                    <img alt="" class="pull-right avatar avatar-lg " src="{{ $.Site.Params.faviconfile | absURL }}">
                    {{ end }}
                </a>
            </div>
            <!-- /.Avatar -->

            <div class="col-12 col-sm-7 text-left pl-5">
                <!-- Description -->
                <a href="{{ .Site.BaseURL }}">
                    <h1 class="display-4 mb-2 mt-2 h1">
                        <strong>{{ $.Site.Params.author }}</strong>
                    </h1>
                </a>
                {{ range $.Site.Params.description }}
                <p class="mb-0 p" style="font-size: 1.250rem; font-weight: 200;">
                    {{ . }}
                </p>
                {{ end }}
                <!-- /.Description -->

                <!-- Ref Icon -->
                <div class="mt-2" style="font-size: 2rem; color: white;">
                    {{ if $.Site.Params.github }}
                    <a href="{{ $.Site.Params.github }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                           class="fab fa-github pr-1"></i></a>
                    {{ end }}
                    {{ if $.Site.Params.linkedin }}
                    <a href="{{ $.Site.Params.linkedin }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                             class="fab fa-linkedin pr-1"></i></a>
                    {{ end }}

                    {{ if $.Site.Params.facebook }}
                    <a href="{{ $.Site.Params.facebook }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                             class="fab fa-facebook pr-1"></i></a>
                    {{ end }}

                    {{ if $.Site.Params.googleplus }}
                    <a href="{{ $.Site.Params.googleplus }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                               class="fab fa-google-plus pr-1"></i></a>
                    {{ end }}

                    {{ if $.Site.Params.twitter }}
                    <a href="{{ $.Site.Params.twitter }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                            class="fab fa-twitter pr-1"></i></a>
                    {{ end }}

                    {{ if $.Site.Params.instagram }}
                    <a href="{{ $.Site.Params.instagram }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                              class="fab fa-instagram pr-1"></i></a>
                    {{ end }}

                    {{ if $.Site.Params.px500 }}
                    <a href="{{ $.Site.Params.px500 }}" rel="noopener" target="_blank"><i aria-hidden="true"
                                                                                          class="fab fa-500px pr-1"></i></a>
                    {{ end }}


                    {{ if $.Site.Params.email }}
                    <a href="mailto:{{ $.Site.Params.email }}"><i aria-hidden="true"
                                                                  class="far fa-envelope-open pr-1"></i></a>
                    {{ end }}

                    {{ if and $.Site.Params.include_rss $.RSSLink }}
                    <a href="{{ $.RSSLink }}"><i aria-hidden="true" class="fas fa-rss pr-1"></i></a>
                    {{ end }}

                </div>
                <!-- /.Ref Icon -->

            </div>
        </div>
    </div>
    <!-- /.Content -->

    <!-- Controls -->
    <a class="carousel-control-prev" data-slide="prev" href="#site-header" role="button">
        <span aria-hidden="true" class="carousel-control-prev-icon"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" data-slide="next" href="#site-header" role="button">
        <span aria-hidden="true" class="carousel-control-next-icon"></span>
        <span class="sr-only">Next</span>
    </a>
    <!-- /.Controls -->

</div>
<!-- /.Carousel Wrapper -->